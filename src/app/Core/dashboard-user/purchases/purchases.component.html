<div class="pnl-content p-3">
  <div class="box text-right" dir="rtl">

    <p-table #dt
             [value]="listProducts"
             dataKey="id"
             [rows]="5"
             [showCurrentPageReport]="true"
             [rowsPerPageOptions]="[10, 25, 50]"
             [paginator]="true"
             currentPageReportTemplate="نمایش {first} تا {last} از {totalRecords} صفحه">

      <ng-template pTemplate="caption">
        <div class="table-header row">
          <div class="col-sm-12">لیست خرید ها</div>
        </div>
      </ng-template>

      <ng-template pTemplate="header">
        <tr class="title-table">
          <th class="text-center">ردیف</th>
          <th class="text-center">نام کالا</th>
          <th class="text-center">تعداد کالا</th>
          <th class="text-center">قیمت</th>
          <th class="text-center">تخفیف</th>
          <th class="text-center">قیمت کل</th>
          <th class="text-center">وضعیت</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-basket let-rowIndex="rowIndex">
        <tr>
          <td class="text-center">{{rowIndex + 1}}</td>
          <td class="text-center">{{basket['product'][0].title}}</td>
          <td class="text-center">{{basket.count}}</td>
          <td class="text-center">{{basket.price|number}}</td>
          <td class="text-center">{{basket.offerPercent}}%</td>
          <td class="text-center">
            {{(basket.price * basket.count) - ((basket.price * basket.count) * basket.offerPercent) / 100|number}}
          </td>
          <td class="text-center" *ngIf="basket.success === 'موفق'">
            <button pButton pRipple icon="pi pi-check" label="موفق"
                    class="p-button-link text-success"></button></td>
          <td class="text-center" *ngIf="basket.success === 'ناموفق'">
            <button pButton pRipple icon="pi pi-times" label="ناموفق"
                    class="p-button-link text-danger"></button></td>
        </tr>
      </ng-template>

      <ng-template pTemplate="emptymessage">
        <tr>
          <td colspan="7">هیچ رکوردی یافت نشد.</td>
        </tr>
      </ng-template>
    </p-table>

  </div>
</div>
